# Тема 7. Работа с файлами (ввод, вывод)
Отчет по Теме #7 выполнил(а):
- Тычков Дмитрий Евгеньевич
- ИНО-ОЗБ-ПОАС-22-2

| Задание    | Лаб_раб | Сам_раб |
|------------|---------|---------|
| Задание 1  | +       | +       |
| Задание 2  | +       | +       |
| Задание 3  | +       | +       |
| Задание 4  | +       | +       |
| Задание 5  | +       | +       |
| Задание 6  | +       | +       |
| Задание 7  | +       | +       |
| Задание 8  | -       | -       |
| Задание 9  | -       | -       |
| Задание 10 | -       | -       |

знак "+" - задание выполнено; знак "-" - задание не выполнено;

Работу проверили:
- 

## Самостоятельная работа №1
#### Найдите в интернете любую статью (объем статьи не менее 200 слов), скопируйте ее содержимое в файл и напишите программу, которая считает количество слов в текстовом файле и определит самое часто встречающееся слово. 
#### Результатом выполнения задачи будет: скриншот файла со статьей, листинг кода, и вывод в консоль, в котором будет указана вся необходимая информация

### Результат
```python
with open("text/7_1.txt", 'r') as file:
    content = file.read()

words = content.split()

word_count = len(words)
print("Количество слов в файле: ", word_count)

word_dict = {}
for word in words:
    if word in word_dict:
        word_dict[word] += 1
    else:
        word_dict[word] = 1

common_word = max(word_dict, key=word_dict.get)
quantiti_of_word = word_dict[common_word]

print("самое часто встречающееся слово: ", common_word)
print("Количество повторений этого слова: ", quantiti_of_word)

```
![Меню]()
### Выводы
#### Открываем файл, прекладываем контент на Content. Считаем кол-во слов - просто делим файл по пробелу.
#### Для того что бы выяснить какое слово встречается чаще всего, используем словарь word_dict, перебираем слова, если слово уже есть в словаре, то ++ счётчик, иначе добавляем слово в словарь
#### Ну а затем, сначала выводим самое встречающееся слово (то у которого самое большое значение счётчика) и сам счётчик

## Самостоятельная работа №2
#### У вас появилась потребность в ведении книги расходов, посмотрев все существующие варианты вы пришли к выводу что вас ничего не устраивает и нужно все делать самому. Напишите программу для учета расходов. Программа должна позволять вводить информацию о расходах, сохранять ее в файл и выводить существующие данные в консоль. Ввод информации происходит через консоль. 
#### Результатом выполнения задачи будет: скриншот файла с учетом расходов, листинг кода, и вывод в консоль, с демонстрацией работоспособности программы

### Результат
```python
def load_expenses():
    try:
        with open("text/7_2.txt", "r") as file:
            lines = file.readlines()
            expenses = [eval(line.strip()) for line in lines]
    except FileNotFoundError:
        expenses = []
    return expenses

def save_expenses(expenses):
    with open("text/7_2.txt", "w") as file:
        for expense in expenses:
            file.write(str(expense) + "\n")

def add_expense():
    category = input("Введите категорию расхода: ")
    amount_of_expense = float(input("Введите сумму расхода: "))
    date = input("Введите дату расходов (в формате гггг-мм-дд): ")

    expense = {"Категория": category, "Сумма расходов": amount_of_expense, "Дата": date}
    return expense

def print_ledger(expenses):
    if expenses:
        print("\n--- Список расходов ---")
        for expense in expenses:
            print(f"Категория: {expense['Категория']}, Сумма расходов: {expense['Сумма расходов']}, Дата расхода: {expense['Дата']}")
        print("-------------------------\n")
    else:
        print("Расходы отсутствуют.")

def main():
    expenses = load_expenses()

    while True:
        print("1. Добавить расход")
        print("2. Посмотреть расходы")
        print("3. Выйти")

        choice = input("Выберите действие: ")

        if choice == "1":
            expense = add_expense()
            expenses.append(expense)
            save_expenses(expenses)
            print("Расходы добавлены.")
        elif choice == "2":
            print_ledger(expenses)
        elif choice == "3":
            print("Выход из программы.")
            break
        else:
            print("Вы промахнулись по клавишам, попробуйте снова")

if __name__ == "__main__":
    main()
```
![Меню]()
### Выводы
#### load_expenses - Эта функция загружает данные о расходах. С помощью оператора with файл открывается в режиме чтения ('r'), что гарантирует его автоматическое закрытие после завершения работы. Содержимое файла считывается построчно с помощью метода readlines(). Затем для каждой строки выполняется eval(), что преобразует строку в выражение Python. Предполагается, что каждая строка в файле представляет собой допустимое выражение Python, представляющее расход (например, словарь). Эти расходы добавляются в список expenses, который затем возвращается. В случае, если файл не найден, функция возвращает пустой список.
#### save_expenses - Эта функция сохраняет данные о расходах в файл. Она открывает файл в режиме записи ('w'), что позволяет перезаписывать содержимое файла. Затем каждый расход из списка expenses преобразуется в строку с помощью str() и записывается в файл. Каждый расход записывается в отдельной строке с символом новой строки в конце.
#### add_expense - Эта функция запрашивает у пользователя информацию о новом расходе и возвращает его в виде словаря. Пользователю предлагается ввести категорию расхода, сумму расхода и дату ввода. Эти данные сохраняются в словаре expense, где ключи - это "Категория", "Сумма расходов" и "Дата", а значения вводятся пользователем. Словарь с информацией о расходе затем возвращается из функции.
#### print_ledger - Эта функция выводит список расходов в консоль. Если список expenses не пустой, функция выводит информацию о каждом расходе построчно. Для каждого расхода выводится его категория, сумма и дата расхода. Если список пустой, выводится сообщение о том, что расходы отсутствуют.
#### main - Это основная функция программы. Сначала она загружает список расходов с помощью load_expenses(). Затем запускается бесконечный цикл, в котором пользователю предлагается выбрать действие: добавить расход, просмотреть расходы или выйти из программы. В зависимости от выбора пользователя вызывается соответствующая функция. Если пользователь выбирает добавление расхода, программа запрашивает данные о расходе с помощью add_expense(), добавляет новый расход в список и сохраняет обновленный список с помощью save_expenses(). Если выбирается просмотр расходов, программа выводит список с помощью print_ledger(). Если выбор - выйти из программы, цикл завершается, и программа завершается.



## Самостоятельная работа №3
#### Имеется файл input.txt с текстом на латинице. Напишите программу, которая выводит следующую статистику по тексту: количество букв латинского алфавита; число слов; число строк. 
#### • Текст в файле: 
#### Beautiful is better than ugly. 
#### Explicit is better than implicit. 
#### Simple is better than complex. 
#### Complex is better than complicated. 
#### • Ожидаемый результат: 
#### Input file contains: 
#### 108 letters 
#### 20 words 
#### 4 lines

### Результат
```python
def count_statistics(file_name):
    total_letters = 0
    total_words = 0
    total_lines = 0

    with open(file_name, 'r') as file:
        for line in file:
            total_letters += sum(1 for char in line if char.isalpha())
            total_words += len(line.split())
            total_lines += 1

    return total_letters, total_words, total_lines

def main():
    file_name = "text/7_3.txt"
    letters, words, lines = count_statistics(file_name)
    print(f"Input file contains:")
    print(f"{letters} letters")
    print(f"{words} words")
    print(f"{lines} lines")

if __name__ == "__main__":
    main()

```
![Меню]()
### Выводы
#### count_statistics -Эта функция принимает имя файла в качестве аргумента. Инициализируются счетчики для общего количества букв (total_letters), общего количества слов (total_words) и общего количества строк (total_lines). Затем открывается файл для чтения с помощью оператора with. Для каждой строки файла в цикле for: total_letters увеличивается на количество букв в строке (все символы, являющиеся буквами, подсчитываются с помощью выражения 1 for char in line if char.isalpha(), а затем суммируются). total_words увеличивается на количество слов в строке, которое определяется разбиением строки на слова с помощью метода split() и подсчетом элементов полученного списка с помощью len(). total_lines увеличивается на 1. Функция возвращает кортеж с общим количеством букв, слов и строк в файле.
#### main() - Эта функция является точкой входа в программу. Устанавливается имя файла file_name. Вызывается функция count_statistics() с указанным именем файла, и возвращенные ей значения сохраняются в переменных letters, words и lines. Затем выводится сообщение о количестве букв, слов и строк в файле.

## Самостоятельная работа №4
#### Напишите программу, которая получает на вход предложение, выводит его в терминал, заменяя все запрещенные слова звездочками * (количество звездочек равно количеству букв в слове). 
#### Запрещенные слова, разделенные символом пробела, хранятся в текстовом файле input.txt. Все слова в этом файле записаны в нижнем регистре. Программа должна заменить запрещенные слова, где бы они ни встречались, даже в середине другого слова. 
#### Замена производится независимо от регистра: если файл input.txt содержит запрещенное слово exam, то слова exam, Exam, ExaM, EXAM и exAm должны быть заменены на ****. 
#### • Запрещенные слова: hello email python the exam wor is 
#### • Предложение для проверки: Hello, world! Python IS the programming language of thE future. My EMAIL is.... PYTHON is awesome!!!! 
#### • Ожидаемый результат: *****, ***ld! ****** ** *** programming language of *** future. My ***** **.... ****** ** awesome!!!! 

### Результат
```python
import re
def load_censor(file_name):
    with open(file_name, 'r') as file:
        censor_words = file.read().split()
    return censor_words

def censor(text, censor_words):
    censor_text = text
    for word in censor_words:
        pattern = re.compile(r'\b' + re.escape(word) + r'\b', re.IGNORECASE)
        censor_text = pattern.sub('*' * len(word), censor_text)

    return censor_text

def main():
    censor_words = load_censor("text/7_4.txt")
    text = input("Введите предложение: ")
    censored_text = censor(text, censor_words)
    print("Результат: ", censored_text)

if __name__ == "__main__":
    main()
```
![Меню]()
### Выводы
#### load_censor(file_name) - Функция load_censor загружает список запрещенных слов из файла с именем file_name. Она открывает файл для чтения и считывает его содержимое в строку. Затем строка разбивается на список слов с помощью метода split(), который разделяет строку по пробелам (по умолчанию). В итоге функция возвращает список запрещенных слов.
#### censor(text, censor_words) - Эта функция принимает в качестве аргументов текст text и список запрещенных слов censor_words, и возвращает цензурированный текст. Для каждого запрещенного слова создается регулярное выражение с помощью re.compile(), которое ищет целые слова с учетом регистра. Затем для каждого найденного слова в тексте оно заменяется на строку звездочек (*) той же длины, что и исходное слово. Замена производится с помощью метода pattern.sub(). Функция возвращает цензурированный текст.
#### main() - Главная функция программы. Загружает список запрещенных слов из файла text/7_4.txt. Просит пользователя ввести предложение. Затем вызывает функцию censor() для цензурирования введенного предложения и выводит результат в терминал.

## Самостоятельная работа №5
#### Самостоятельно придумайте и решите задачу, которая будет взаимодействовать с текстовым файлом

### Результат
```python
def load_shopping_list(file_name):
    shopping_list = {}
    with open(file_name, 'r') as file:
        lines = file.readlines()
        for line in lines:
            date, items = line.strip().split(': ')
            shopping_list[date] = items.split(', ')
    return shopping_list

def total_items_per_day(shopping_list):
    total_items = {}
    for date, items in shopping_list.items():
        total_items[date] = len(items)
    return total_items

def main():
    file_name = "text/7_5.txt"
    shopping_list = load_shopping_list(file_name)
    print("Общее количество покупок за каждый день:")
    for date, total_items in total_items_per_day(shopping_list).items():
        print(f"{date}: {total_items}")


main()
```
![Меню]()
### Выводы
#### load_shopping_list(file_name) - Эта функция считывает информацию о списке покупок из файла file_name. Она создает пустой словарь shopping_list и проходит по каждой строке файла. Для каждой строки она извлекает дату и список покупок и добавляет их в словарь shopping_list. Функция возвращает этот словарь.
#### total_items_per_day(shopping_list) - Эта функция вычисляет общее количество покупок за каждый день. Она проходит по словарю shopping_list и для каждой даты считает количество элементов в списке покупок.
#### main() - Это главная функция программы. Она вызывает функции load_shopping_list() и total_items_per_day() для загрузки списка покупок и вывода общего количества покупок за каждый день в терминал.

